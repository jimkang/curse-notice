<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <title>Curse Notice</title>

    <link rel="icon" type="image/png" href="squared-emoji-blank.png" />
    <link rel="stylesheet" href="app.css" />

    <script defer src="build/bundle.js"></script>
  </head>

  <body>
    <main class="centered-col">
      <h1>Curse Notice</h1>

      <div>Click in the box to change the message. Click, drag, and zoom the background until it's where you want it to be. Then, hit "Build png".</div>

      <section class="form">
        <ul>
          <li>
            <h3>Font size:</h3>
            <div class="slider-subform">
              <input id="font-size-slider" class="slider" type="range" width="80%" value="100" min="24" max="300">
              <span id="font-size-label" class="range-label">100</span>px
            </div>
          </li>
          <li class="advanced-controls hidden">
            <h3>Kerning:</h3>
            <div id="kerning-controls" class="slider-subform">
              <input id="kerning-slider" class="slider" type="range" width="80%" value="0.000" min="-1.0" max="1.0" step="0.005">
              <span id="kerning-label" class="range-label">0.000</span>em
            </div>
          </li>
<!--
          <li class="advanced-controls hidden">
            <div id="alt-bg-controls" class="slider-subform">
              <input id="alt-bg-opacity-slider" class="slider" type="range" width="80%" value="0" min="0" max="100">
              <span id="alt-bg-opacity-label" class="range-label">0</span>%
            </div>
          </li>
-->
        </ul>
        <button class="form-expander hidden" type="button">More</button>
      </section>

      <section class="preview centered-col">
        <h2>Preview</h2>
        <div id="preview-stage">
          <svg class="board" width="512" height="448">
            <g class="zoom-layer">
              <image href="bgs/castlevania-2-night.png"></image>
            </g>
            <g class="dialog-layer" transform="translate(40, 40)">
              <image href="bgs/castlevania-dialog-box.png" width="248" height="184"></image>
              <foreignObject width="100%" height="100%">
                <div class="dialog-text" contenteditable>What a horrible night to have a curse.</div>
              </foreignObject>
            </g>
          </svg>
        </div>
        <button type="button" id="build-button">Build png</button>
      </section>

      <section class="result hidden centered-col">
        <h2>Result</h2>

        <div id="status-message" class="hidden"></div>

        <img id="result-image" width="512" height="448"></img>
        <a id="download-link" class="link-button">Download it!</a>
        <div class="hidden" id="result-instruction">Right-click or long press that thing and download it!</div>
      </section>
    </main>

    <footer>Big Castlevania thanks to <a href="https://github.com/esjay/">Wayne</a>, who wrote the text and theme controls for <a href="https://jimkang.com/emojipress">Emojipress</a>!</footer>
    <div class="meta-controls">
      <button type="button" id="dark-theme-toggle">Toggle Dark Theme</button>
      <div id="version-info"></div>
    </div>
  </body>
</html>
